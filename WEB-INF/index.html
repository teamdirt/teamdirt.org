<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Team Dirt IMBA Mountain Bike Chapter" >
    <meta name="keywords" content="team dirt, teamdirt, mountain bike, corvallis, benton county, alsea falls, McDonald Forest, Marys Peak" >
    
    <base href="/" target="_parent" >
    <title>Team Dirt</title>
    <link rel="icon" href="favicon.png">

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.3/angular.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
    <script type="text/javascript" src="/scripts/global.js"></script>
    <script type="text/javascript" src="/scripts/mainpage.js"></script>
    
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/styles/teamdirt.css">
	<link rel="stylesheet" type="text/css" href="/styles/mainpage.css">
    
</head>
<body ng-app="tdApp">
    <header id="commonHeader" ng-include="'includes/navBar.htm'"></header>
    
    <div ng-controller="HeroBanner as hero" class="w3-display-container heroBanner" ng-style="hero.getBackgroundImg()">
        <!--img ng-src="{{hero.getCurrentImg()}}" alt="heroImage" style="width:100%;min-height:200px;max-height:400px;"-->
        <div class="w3-center w3-container w3-section w3-large w3-text-white w3-display-bottommiddle" style="width:100%">
            <span class="w3-center">
				<h2 style="color:white">{{hero.getCurrentImgName()}}</h2>
                <span ng-repeat="img in hero.images" ng-click="hero.set($index)" class="w3-badge w3-small w3-border w3-transparent {{hero.getColorCode($index)}}" style="cursor:pointer">&nbsp;</span>
            </span>
			<button ng-click="hero.shift(-1)" class="w3-button w3-round-large w3-left w3-black w3-hover-green">&#10094;</button>
            <button ng-click="hero.shift(1)" class="w3-button w3-round-large w3-right w3-black w3-hover-green">&#10095;</button>
        </div>
    </div>
         
    <main id="mainContainer" class="w3-panel">
        <header id="mainHeader">
            <h1>Mission Statement</h1>
            <p>Team Dirt, a Chapter of IMBA, is dedicated to the stewardship of sustainable, multiple-use, and purpose built trails, to preserve access for mountain bikers through advocacy and education, and to promote responsible trail use. Team Dirt is a nonprofit, volunteer organization that works in conjunction with the BLM, Starker Forests, OSU College of Forestry, the USFS and other land managers to build and maintain trails throughout Benton County.</p>
        </header>
        

        <section id="mainSection" class="w3-row-padding">
			
			<div id="contentContainer" class="w3-container w3-col s7">
				
                <div id="latestNews" ng-controller="LatestNewsController as newsController" ng-init="newsController.pullFacebookFeedData()" class="w3-container w3-margin-bottom mainElement">
					<h4 class="subsection">Latest News</h4>
					<div ng-switch on="newsController.isFaceBookError()">
						<div ng-switch-when="true" class="w3-card-4 w3-padding">
							<p>Please check the teamDirt Facebook page at <a href="https://www.facebook.com/pg/TeamDirtIMBA/" target="_blank">TeamDirtIMBA</a>.
						</div>
						<div ng-switch-when="false" class="w3-card-4 w3-padding w3-row-padding">
                            <a ng-href="{{newsController.getLatestFeedItem().link}}" target="_blank"><img ng-src="{{newsController.getLatestFeedItem().full_picture}}" alt="No Event Image" class="w3-col s4 pressImg"></a>
							<div class="w3-col s8">
								<h6><b>{{newsController.getLatestFeedItem().story}}</b></h6>
								<p>Updated: {{newsController.getLatestFeedItem().created_time_string}}</p>
								<p>{{newsController.getLatestFeedItem().message}}</p>
                                <p ng-if="newsController.isSharedLink"><a ng-href="{{newsController.getLatestFeedItem().link}}" target="_blank">{{newsController.getLatestFeedItem().name}}</a><br>{{newsController.getLatestFeedItem().description}}</p>
							</div>
						</div>
					</div>
					
				</div>
				
				<div id="eventsContainer" ng-controller="EventController as eventController" ng-init="eventController.pullFacebookEventData()" class="w3-container mainElement">
					<h4 class="subsection">Upcoming Events</h4>

					<!--button class="w3-button w3-blue" ng-click="eventController.testRequest()">Send Test Request</button-->

					<div ng-switch on="eventController.isNotEmptyEventList()">
						<div ng-switch-when="false">
							<p ng-if="eventController.isFaceBookError()">Please check the teamDirt Facebook events page at <a href="https://www.facebook.com/pg/TeamDirtIMBA/events/" target="_blank">TeamDirtIMBA Events</a>.</p>
							<p ng-if="!eventController.isFaceBookError()">Currently, no future events are published.</p>
						</div>
						<div ng-switch-when="true">
							<div ng-repeat="eachEvent in eventController.getEventList()" class="w3-card-4 event">
								<div class="w3-display-container">
									<img ng-src="{{eachEvent.cover.source}}" alt="eventImg" class="event">
									<div class="w3-padding w3-display-topleft">
										<div ng-switch on="eachEvent.is_canceled">
											<h5 ng-switch-when="false" class="w3-round eventTitle">{{eachEvent.name}}</h5>
											<h5 ng-switch-when="true" class="w3-round eventTitle" style="color:white;background-color:red;">Canceled: <span class="canceled">{{eachEvent.name}}</span></h5>
										</div>
										
									</div>
								</div>
								<div class="w3-container">
									<div class="w3-container">
										<table class="w3-table">
											<tr>
												<td><b>Date/Time:</b></td>
												<td ng-switch on="eachEvent.is_canceled">
													<div ng-switch-when="false">{{eachEvent.startDateString}}<br>{{eachEvent.endDateString}}</div>
													<div ng-switch-when="true">Canceled</div>
												</td>	
											</tr>
											<tr>
												<td><b>Location:</b></td>
												<td ng-switch on="eachEvent.is_canceled">
													<div ng-switch-when="false">{{eachEvent.place.name}}</div>
													<div ng-switch-when="true">Canceled</div>
												</td>
											</tr>
										</table>
									</div>
									<div class="w3-container">
										<h6><b>Description:</b></h6>
										<p>{{eachEvent.description}}</p>
									</div>
									<div class="w3-container w3-responsive">
										<table class="w3-table-all w3-centered">
											<tr>
												<th>Going</th>
												<th>Maybe</th>
												<th>Interested</th>
											</tr>
											<tr>
												<td>{{eachEvent.attending_count}}</td>
												<td>{{eachEvent.maybe_count}}</td>
												<td>{{eachEvent.interested_count}}</td>
											</tr>
										</table>
									</div>
									<div class="w3-container w3-margin">
										<a ng-href="https://www.facebook.com/events/{{eachEvent.id}}/" target="_blank"><button class="w3-button w3-border w3-hover-green w3-round-large w3-right tdbutton">More Info/RSVP&nbsp;&nbsp;<i class="fa fa-facebook-official w3-xlarge" style="vertical-align:middle;" aria-hidden="true"></i></button></a>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

            </div>
				
			<div id="sponsorContainer" ng-include="'includes/sponsors.htm'" class="w3-container w3-col s5 w3-round-xlarge w3-card-4 mainElement"></div>
               
        </section>
        
        <footer></footer>
    </main>
    
    <footer id="commonFooter" ng-include="'includes/footer.htm'"></footer>
    
</body>
</html>
